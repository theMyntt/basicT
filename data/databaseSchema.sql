BEGIN TRANSACTION;

CREATE TABLE IF NOT EXISTS "USER" (
    "ID_USER"  INTEGER NOT NULL,
    "PW_USER"  VARCHAR(12) NOT NULL,
    "NM_USER"  VARCHAR(30) NOT NULL,
    "CP_USER"  VARCHAR(13) NOT NULL,
    "LG_USER"  DATE NOT NULL,
    PRIMARY KEY("ID_USER" AUTOINCREMENT)
);

CREATE TABLE IF NOT EXISTS "SALE" (
    "ID_SALE"       INTEGER NOT NULL,
    "PR_SALE"       VARCHAR(255) NOT NULL,
    "USER_ID_USER"  INTEGER NOT NULL,
    "USER_NM_USER"  VARCHAR(30) NOT NULL, -- Added comma here
    "FP_SALE"       VARCHAR(30) NOT NULL,
    FOREIGN KEY("USER_ID_USER") REFERENCES "USER"("ID_USER"),
    FOREIGN KEY("USER_NM_USER") REFERENCES "USER"("NM_USER"),
    PRIMARY KEY("ID_SALE" AUTOINCREMENT)
);

CREATE TABLE IF NOT EXISTS "ACCESS" (
    "ID_ACCESS"     INTEGER NOT NULL,
    "USER_ID_USER"  INTEGER NOT NULL,
    "USER_NM_USER"  VARCHAR(30) NOT NULL,
    "DT_ACCESS"     DATE NOT NULL,
    FOREIGN KEY("USER_ID_USER") REFERENCES "USER"("ID_USER"),
    FOREIGN KEY("USER_NM_USER") REFERENCES "USER"("NM_USER"),
    PRIMARY KEY("ID_ACCESS" AUTOINCREMENT)
);

INSERT INTO "USER" VALUES (111111,'12345678','admin','11990000000','2023-11-29');
INSERT INTO "USER" VALUES (111112,'12345678','testaccount','11990000001','2023-11-28');

COMMIT;